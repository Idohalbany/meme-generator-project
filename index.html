<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meme Generator</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <link rel="stylesheet" href="main.css" />
  </head>
  <body onload="onInit()">
    <header>
      <!-- Navigation -->

      <h1 class="logo"><a href="index.html">MEME GENERATOR</a></h1>
      <nav class="nav">
        <ul class="links">
          <li>
            <a onclick="onChangeSection(event, 'gallery')">Templates Gallery</a>
          </li>
          <li>
            <a onclick="onChangeSection(event, 'createMemes')">Create Meme</a>
          </li>
          <li>
            <a onclick="onChangeSection(event ,'savedMemes')">Saved Memes</a>
          </li>
        </ul>
      </nav>
      <i onclick="toggleMenu('open')" class="mobile-menu fa-solid fa-bars"></i>
      <i onclick="toggleMenu('close')" class="close-menu fa-solid fa-x"></i>
    </header>
    <input
      list="image-tags"
      class="filter-input"
      oninput="onFilterGallery({filterBy: this.value})"
      placeholder="Filter images..." />
    <datalist id="image-tags"></datalist>
    <button onclick="onClearFilter()">Clear Filter</button>
    <div class="keyword-container"></div>

    <!-- Main Content Wrapper -->
    <div class="main-content">
      <section class="gallery">
        <!-- Gallery content -->
      </section>

      <!-- Meme Editor and Canvas Section -->
      <section class="meme-editor-wrapper">
        <!-- Canvas Container -->
        <div class="canvas-wrapper">
          <div class="canvas-container">
            <canvas width="800" height="800" id="meme-canvas"></canvas>
          </div>
        </div>

        <!-- Editor Tools on the Right -->
        <div class="editor-tools">
          <!-- Text Controls -->
          <div class="text-controls">
            <input
              type="text"
              class="meme-text"
              placeholder="Enter your meme text"
              oninput="onTextChange(this.value)" />
            <input
              type="color"
              id="text-color"
              placeholder="Choose text color"
              onchange="onColorChange(this.value)" />
            <select
              onchange="onChangeFontFamily(this.value)"
              name="font-family"
              class="font-family">
              <option value="">Font Family</option>
              <option value="Impact">Impact</option>
              <option value="Ariel">Ariel</option>
              <option value="Verdana">Verdana</option>
              <option value="Tahoma">Tahoma</option>
              <option value="Georgia">Georgia</option>
              <option value="Comic Sans MS">Comic Sans MS</option>
            </select>
          </div>

          <!-- Size Controls -->
          <div class="size-controls">
            <button onclick="onChangeFontSize(2)" class="change-size">Increase Font</button>
            <button onclick="onChangeFontSize(-2)" class="change-size">Decrease Font</button>
            <input
              oninput="onSetSizeSelector(event, this.value)"
              type="range"
              min="10"
              max="100"
              value="30"
              class="size-selector" />
          </div>

          <!-- Line Controls -->
          <div class="line-controls">
            <button class="add-line">Add Line</button>
            <button class="add-line">Switch Line</button>
            <button class="delete-line">Delete Line</button>
          </div>

          <!-- Alignment Controls -->
          <div class="alignment-controls">
            <button class="align-btn">Left</button>
            <button class="align-btn">Center</button>
            <button class="align-btn">Right</button>
          </div>

          <!-- Position Controls -->
          <div class="position-controls">
            <button onclick="onMoveLine('up')" class="move-line">Move Up</button>
            <button onclick="onMoveLine('down')" class="move-line">Move Down</button>
          </div>

          <!-- New Features Controls -->
          <div class="new-features">
            <button onclick="onRotateLine()" class="rotate-line">Rotate Line</button>
            <button onclick="onGenerateRandomMeme()" class="btn-flexible">I'm Flexible</button>
            <button onclick="onShareFacebook()" class="share-facebook">Share on Facebook</button>
          </div>

          <div class="emoji-dropdown">
            <button>üôÇ Emoji Picker</button>
            <div class="emoji-menu" id="emojiMenu">
              <span class="emoji-option">üòú</span>
              <span class="emoji-option">üòç</span>
            </div>
          </div>

          <!-- Download Control -->
          <div class="download-control">
            <a href="#" id="download-link" class="btn-download" onclick="onDownloadMeme()"
              >Download Meme</a
            >
            <input
              type="file"
              class="pick-image-device"
              onchange="onPickImage(event)"
              accept="image/*" />
            <button class="save-btn">Save</button>
          </div>
        </div>
      </section>

      <section class="saved-memes-section">
        <!-- saved memes rendering -->
      </section>
    </div>
    <script src="js/services/memeservice.storage.js"></script>
    <script src="js/services/memeService.js"></script>
    <script src="js/galleryController.js"></script>
    <script src="js/memeController.js"></script>
  </body>
</html>
